# PHP練習問題② 説明

## 下記for文の`$i = 0`, `$i <= 4`, `$i++`, `echo $i`がそれぞれ、どの順番で処理されるか、また、何をしているのかを説明してください。

```
for ($i = 0; $i <= 4; $i++) {
    echo $i;
}
```

1. `$i = 0`で初期値が0に定義されて、
2. `$i <= 4`で、`$i`が4以下であることを評価、trueであれば実行、falseであればそこでストップ。
3. `echo $i`が、実際に行われる処理
4. `$i++`で、最後に`$i`に`+1`をして1.に戻る

## for文とforeachはどのように使い分けるのか説明してください。
- 【for文】初期値・範囲・更新値を細かく設定が必要な場合や、配列からインデックス番号を介してバリューを取得したい場合に使用する。範囲の指定が柔軟なため、数列の取得を行う場合もfor文が推奨される。
【foreach文】主に連想配列に対して実行し、`$key => $value`などでキーを基準に実行する。
for文と違い、範囲は配列の中に限られるが、逆に配列全体に反復処理を行いたい場合は、配列を指定するのみで済む。同じ処理をfor文で範囲指定をしようとした場合複雑になるため、その場合はforeachを使用することが推奨される。

## クラスとインスタンスの違いについて説明してください。
- 【クラス】変数の定義(プロパティ)と関数(メソッド)をまとめた処理の塊。あらかじめ一定の処理を定義した、処理の設計図のこと。
【インスタンス】設計図をもとに、実際に形作られた処理の塊。実体化ともいう。実体化されたクラスに引数を渡すことで、処理が進んでいく。

## プロパティとメソッドとはなにか説明してください。
- 【プロパティ】クラスの中で定義された変数のこと。クラスに引数を渡し、引数を関数内で定義することで、関数内専用の変数となる。クラスは基本的にこのプロパティを使って処理を進める。
【メソッド】クラス内で定義された関数のこと。クラスに渡された引数が、プロパティに再定義され、再定義されたプロパティを使用してメソッドにて実際に処理を行っていく、という流れが一般的である。

## コンストラクタとはなにか、また、なぜ必要なのかを説明してください。
- プロパティやメソッドが、引数が渡されたあとで実行されるのに対し、コンストラクタはインスタンス化した時点で実行されるため、プロパティやメソッドが定義する前に、実行しなければいけない骨組みを形成するのに必要である。
頻出する具体例として、渡された引数をプロパティに引数を再定義することで、初めてメソッドで引数を使用することを可能にしたり、
メソッドに初期値を定義する際、設計図の状態では定義ができないため、コンストラクタで定義することが必要となる。


## 下記コンストラクター内の2行が何をしているのか、また、なぜこの2行が必要なのか説明してください。
```
public function __construct($id, $name)
{
    $this->studentId = $id;
    $this->studentName = $name;
}
```
- インスタンス化した時に受け取った引数$id, $nameを、$studentIdと$studentNameのプロパティに代入している。
おそらく、このクラスにプロパティ存在し、後続のメソッドにおいてプロパティを使用しているのかと思われるため、このコンストラクタがないと、そもそもインスタンス化しても処理が行えなくなってしまうため、必要となる。

## クラスがなぜ必要なのか説明してください。
- 主にコードを書く上での、同じ処理を何度も行う場合に、その何度も行う一定の処理のを一つのクラスにまとめて定義し、クラスを呼び出すだけで実行することができる。
コードをその文省略できるため、適切に使用することでコードがすっきりとまとまり、可読性が向上するので適宜必要となる。

## `DateTime::modify`メソッドの返り値を教えてください。
- `DateTime::modify`は、DateTimeクラスにで使用するメソッドで、DateTimeで定義されたタイムスタンプを変更することができる。
この場合、戻り値は「変更されたタイムスタンプ」になる。

## `DateTime::format`メソッドと`DateInterval::format`メソッドの違いを教えてください。
- DateTime::formatは、指定した形式のタイムスタンプを定義するためのメソッドで
DateInterval::formatは、あるタイムスタンプからの差を、指定した形式で取得するためのメソッドのこと。

## 下記コード3行目のformatメソッドの返り値をPHPのマニュアルから調べる手順を具体的に説明してください。
```
$now = new DateTime();
$prev = new DateTime('2000-1-1');
echo $prev->diff($now)->format('%a')
```

- 1「php パーセント date」と検索しすると、「DateInterval::format」というマニュアルがあるので開く
2.クラスの説明に「間隔をフォーマットします。」とあり、formatの説明に
「次の文字を、 format パラメータ文字列に使用することができます。 フォーマット文字は、パーセント記号 (%) で始めなければなりません。」
とあるため、「%a」の戻り値はDateInterval::formatの戻り値だとわかる。
3.formatの中に、「a」の説明を見ると、「DateTime::diff() の結果に使った場合は総日数、それ以外の場合は (unknown)」とあるため、aは日付であることがわかる
4.「戻り値」のところを見ると、「フォーマットされた間隔を返します」とあるので、DateTimeで定義されたタイムスタンプとの間隔が戻り値となることがわかった。
【結論】
コードを見ると
```
$now = new DateTime();
$prev = new DateTime('2000-1-1');
echo $prev->diff($now)->format('%a')
```
この中で$nowと$pervの二つのタイムスタンプがあるので、二つの差を%a(日にち)のフォーマットで返していることがわかる
